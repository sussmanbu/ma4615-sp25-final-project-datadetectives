{
  "hash": "76cf91c91677bc8efb543c3e62c70ed1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Blog Post #4\"\nsubtitle: \"Exploratory Data Analysis\"\ndescription:  |\n  This is data detectives' fourth blog post, where we do some initial\n  exploratory data analysis on our cleaned data set.\nauthor: \"Data Detectives\"\ndate: \"2025-03-28\"\ndate-modified: \"2025-03-28\"\ndraft: FALSE\n---\n\n\n\nFor this blog post some members of our team each did exploratory analysis into our Data. \n#Chandini's Graph\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(scales)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'scales'\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n```\n\n\n:::\n\n```{.r .cell-code}\nnls_data_clean <- read_rds(\"dataset/nls_clean.rds\")\n\n#define correct order of education levels(neeeded for next query)\neducation_levels <- c(\n  \"1ST GRADE\", \"2ND GRADE\", \"3RD GRADE\", \"4TH GRADE\", \"5TH GRADE\", \"6TH GRADE\", \n  \"7TH GRADE\", \"8TH GRADE\", \"9TH GRADE\", \"10TH GRADE\", \"11TH GRADE\", \"12TH GRADE\", \n  \"1ST YEAR COLLEGE\", \"2ND YEAR COLLEGE\", \"3RD YEAR COLLEGE\", \"4TH YEAR COLLEGE\", \n  \"5TH YEAR COLLEGE\", \"6TH YEAR COLLEGE\", \"7TH YEAR COLLEGE\", \"8TH YEAR COLLEGE OR MORE\",\n  \"UNGRADED\", NA\n)\n\n#mutate to order based on most education completed \nnls_data_clean <- nls_data_clean %>%\n  mutate(Highest_Grade_Completed = factor(Highest_Grade_Completed, \n                                          levels = education_levels,\n                                          ordered = TRUE))\n#Calcualte average mean_income for each grade category\nincome_by_grade <- nls_data_clean %>%\n  group_by(Highest_Grade_Completed) %>%\n  summarise(mean_income = mean(Total_Income_Prev_Year, na.rm = TRUE)) %>%\n  filter(!is.na(Highest_Grade_Completed))\n\n#income vs highest grade plotted with ggplot\nggplot(income_by_grade, aes(x = Highest_Grade_Completed, y = mean_income, group = 1)) +\n  geom_line(color = \"steelblue\", linewidth = 1.2) +\n  geom_point(color = \"darkred\", size = 2) +\n  labs(title = \"Average Income by Highest Grade Completed\",\n       x = \"Highest Grade Completed\",\n       y = \"Average Income\") +\n  scale_y_continuous(labels = label_comma()) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/chandini graphs-1.png){width=672}\n:::\n:::\n\n\n#Aretha's Graph\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(scales)\nnls_data_clean <- read_rds(\"dataset/nls_clean.rds\")\n\nnls_data_clean <- nls_data_clean %>%\n  filter(!is.na(Region))\n\n# Regional Variation in Gender Income Gap\nggplot(nls_data_clean, aes(x = Region, y = Total_Income_Prev_Year, fill = Sex)) +\n  geom_boxplot(outlier.alpha = 0.5, outlier.size = 1) +\n  labs(title = \"Income Distribution by Region and Gender\",\n       x = \"Region\", \n       y = \"Total Income (Previous Year)\", \n       fill = \"Gender\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  scale_y_continuous(labels = scales::comma)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 359 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/aretha graphs-1.png){width=672}\n:::\n:::\n\n\n\n#Ran's Graph\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(scales)\nnls_data_clean <- read_rds(\"dataset/nls_clean.rds\")\n\nnls_data_clean_filtered <- nls_data_clean %>%\n  filter(!is.na(Total_Income_Prev_Year), is.finite(Total_Income_Prev_Year))\n\nggplot(nls_data_clean_filtered, aes(x = factor(Age_2010), y = Total_Income_Prev_Year)) + geom_boxplot() + facet_wrap(~ Sex + Race) + scale_y_continuous(labels = dollar_format(prefix = \"$\", suffix = \"K\", scale = 1/1000)) + labs(x = \"Age in 2010\", y = \"Total Income for Year\", title = \"Total Income For Year 2010 Filtered by Age, Race, and Sex\") + theme_minimal()\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/ran graphs-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "blog-post-4_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}